#: import utils kivy.utils
ScreenManager: 
    MyHomeScreen:
        id:home
        name:'home'
    ResultScreen:
        name: 'result'

<MyHomeScreen>:
    #background setup
    canvas:
        Color:
            rgb: (0,0,0)
        Rectangle:
            size: self.size
            pos: self.pos       
    FloatLayout:
        #Title
        MDToolbar:
            title: "BMI Calculator"
            pos_hint:{'top':1}
            md_bg_color: 0,0,0,1
            # left_action_items: [['menu',lambda x: x]]
        #Labels
        Label:
            pos_hint:{"top":540/600}
            size_hint:(50/150,None)
            text: 'Gender'
            font_size: 15

        Label:
            pos_hint:{"top":380/600}
            size_hint:(50/150,None)
            text: 'Weight'
            font_size: 15

        Label:
            pos_hint:{"top":300/600}
            size_hint:(50/150,None)
            text: 'Height'
            font_size: 15

        Label:
            pos_hint:{"top":220/600}
            size_hint:(40/150,None)
            text: 'Age'
            font_size: 15

        #Buttons
        BoxLayout:
            orientation: 'horizontal'
            
            padding:30,0
            spacing: 20
            pos_hint:{"top":480/600}
            size_hint:(1,None)
        
            MDFillRoundFlatButton:
                id: male
                height: 100
                width:135
                md_bg_color: (59/255,59/255,59/255,1)
            MDRoundFlatButton:
                id: female
                height: 100
                width:135
                md_bg_color: (59/255,59/255,59/255,1)
        
        CheckBtn:
            active: True
            pos_hint:{"top":480/600,'center_x':.4}
        CheckBtn:
            pos_hint:{"top":480/600,'center_x':.85}
        
        Image:
            pos_hint:{"top":480/600}
            size_hint:(.558,None)
            source: 'images/male.png'

        Label:
            pos_hint:{"top":440/600}
            size_hint:(.558,None)
            text: 'male'
            font_size: 15

        Image:
            pos_hint:{"top":480/600}
            size_hint:(1.45,None)
            source: 'images/female.png'
            specific_text_color: 1,0,1,1

        Label:
            pos_hint:{"top":440/600}
            size_hint:(1.45,None)
            text: 'female'
            font_size: 15



        MDFillRoundFlatButton:
            text:'Calculate'
            pos_hint:{"top":80/600,'center_x':.5}
            size_hint: (290/350,None)
            padding: (30,0)
            on_press: 
                app.sm.transition.direction = 'up'
                app.change_screen('result')
        #Cards
        BoxLayout:
            padding:30,0
            spacing:15
            orientation: 'horizontal'
            pos_hint:{"top":1.45}
            #weight
            CoolRoundCard:
                md_bg_color: (0,0,0,0)
                size_hint:(None,None)
                size: '175dp','50dp'
                
                MDIconButton:
                    icon:'plus'
                    on_release:
                        root.weight_increase()

                Label:
                    text: str(root.weight)
                    font_size:35
                    color: 0,0,0,1

                MDIconButton:
                    icon: 'minus'
                    on_release:
                        root.weight_decrease()
                    
                    

            CoolRoundCard:
                md_bg_color: (0,0,0,0)
                size_hint:(None,None)
                size: '100dp','50dp'
                
                MDDropDownItem:
                    id: drop_item
                    text: 'KG'
                    on_release: root.dropdown.open()


        BoxLayout:
            padding:30,0
            spacing:15
            orientation: 'horizontal'
            pos_hint:{"top":1.315}
        #height 
            CoolRoundCard:
                md_bg_color: (0,0,0,0)
                size_hint:(None,None)
                size: '175dp','50dp'
                MDIconButton:
                    icon:'plus'
                    on_release:
                        root.user_height_increase()

                Label:
                    text: str(root.user_height)
                    font_size:35
                    color: 0,0,0,1
                
                MDIconButton:
                    icon: 'minus'
                    pos_hint: {'center_x': 0}
                    on_release:
                        root.user_height_decrease()
                
            CoolRoundCard:
                md_bg_color: (0,0,0,0)
                size_hint:(None,None)
                size: '100dp','50dp'
                MDLabel:
                    text: 'cm'
                    font_size:35
            
        # Years
        CoolRoundCard:
            padding:30,0
            pos_hint:{"top":158/600,'center_x':.5}
            size_hint:(None,None)
            size: '290dp','50dp'
            md_bg_color: (0,0,0,0)

            
            MDIconButton:
                icon:'plus'
                on_release:
                    root.age_increase()
            
            Label:
                text: str(root.age)
                font_size:35
                color: 0,0,0,1
            
            MDIconButton:
                icon: 'minus'
                on_release:
                    root.age_decrease()

        
        

        


<CoolRoundButton@Button>:
    background_normal: ''
    background_color: (1,0,1,0)
    border_radius:[18]
    bg_color:(0,0,1,1)
    canvas.after:
        Color:
            rgba: self.bg_color
        RoundedRectangle:
            size:self.size
            pos:self.pos
            radius: self.border_radius

<ResultScreen>:
    FloatLayout:
    #background setup
        canvas:
            Color:
                rgb: (0,0,0)
            Rectangle:
                size: self.size
                pos: self.pos  
        MDToolbar:
            pos_hint: {'top':1}
            title: 'Result'
            md_bg_color: (0,0,0,1)
            # anchor_title: 'center'
            
            left_action_items: [['arrow-left',lambda x: app.change_screen('home')]]
        MDLabel:
            text: 'Result'
            font_size: 40
        MDCard:
            size_hint: None,None
            size: '290dp','290dp'
            pos_hint: {'center_x':.5,'center_y':.65}
            orientation: 'vertical'
            canvas:
                Color: 
                    rgb: (59/255,59/255,59/255,1)
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color: 
                    rgb: (0,0,1,1)
                Line:
                    width: 1.2
                    bezier:
                        (self.x+25, self.y+50, self.x + 45, self.y + 55,self.x + 65, self.y + 53, self.x+85, self.y+60)
                Color: 
                    rgb: (0,1,0,1)
                Line:
                    width: 1.2
                    bezier:
                        (self.x+85, self.y+60, self.x + 105, self.y + 65,self.x + 125, self.y + 63, self.x+145, self.y+70)
                Color: 
                    rgb: (1,1,0,1)
                Line:
                    width: 1.2
                    bezier:
                        (self.x+145, self.y+70, self.x + 165, self.y + 75,self.x + 185, self.y + 73, self.x+205, self.y+80)
                Color: 
                    rgb: (1,0,0,1)
                Line:
                    width: 1.2
                    bezier:
                        (self.x+205, self.y+80, self.x + 245, self.y + 85,self.x + 265, self.y + 83, self.x+275, self.y+90)
            MDLabel:
                text: 'Your current BMI'
                font_size: 25
                color: 1,1,1,1
                pos_hint: {'center_x':.5,'center_y':.65}

            MDLabel:
                text: '22.6'
                font_size: 40
                bold: True
                color: 1,1,1,1
                pos_hint: {'center_x':.5,'center_y':.5}                       

<CoolRoundCard@MDCard>:
    md_bg_color: (0,0,0,0)
    bd_radius:[5]
    bag_color: (1,1,1,1)
    canvas:
        Color:
            rgba: self.bag_color
        RoundedRectangle:
            size:self.size
            pos:self.pos
            radius: self.bd_radius

<CheckBtn@MDCheckbox>:
    group: 'group'
    size_hint: None,None
    size: '48dp','48dp'